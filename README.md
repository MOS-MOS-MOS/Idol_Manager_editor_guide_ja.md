# Idol Manager editor guide ja
Idol Manager editorのドキュメントです。英語版を日本語版にみらい翻訳を使用し翻訳、一部修正しました。<br>
ドキュメントの内容は2021/11/20時点での情報です。最新の情報は[英語版ドキュメント](https://docs.google.com/document/d/15vAJ-VFSL1jmOnoM4_M9C63RM-08kKtKyzo6-t3amV0/edit#)を参照してください。<br><br>
# 以下翻訳
ファイルを解凍し、im-event-editor.exeを起動します。
エディタを開くと、ベータ版で現在利用可能なすべてのダイアログとイベントが表示されます。

## modの作成
新しいmodを作成するには、**Settings**に移動して**Create New Mod**をクリックし、Mod ID (modのフォルダ名になります)と他のフィールドに入力してSaveをクリックします。
## modのロード
**Settings**に移動し、ドロップダウン・メニューからモジュールを選択します。
## modをゲームに追加する
modフォルダ*エディターフォルダー*/IM_Data/StreamingAssets/Mods/*your_mod_id*/をコピーします。
ゲームのmodフォルダに移動します。<br>
**Windows** C:\Users\ユーザー名\AppData\LocalLow\Glitch Pitch\Idol Manager\Mods\
**Mac** ~/library/Application Support/Glitch Pitch/Idol Manager/Mods/

modはゲーム起動時にデフォルトで有効になっているはずで、メインメニューで無効にすることができます (その後ゲームを再起動する必要があるかもしれません) 。

modのサムネイル画像を追加することができます。thumb.png画像をmodのフォルダに入れます (任意のサイズのアスペクト比16:9の画像) 。

## カスタム・アイドル・ポートレートの追加
アイドルのポートレートは次のフォルダに保存されます。
*MODフォルダー*/IM_Data/StreamingAssets/Mods/*作成したMODのID*/Textures/IdolPortraits/

新しいポートレートを作成する最も簡単な方法は、デフォルトのポートレートをコピーして編集することです。
*ゲームフォルダー*/IM_Data/StreamingAssets/Textures/IdolPortraits/

縦長のフォルダ名には、0、1、2などの番号を付ける必要があります。

ポートレートフォルダ内のファイル:

**body.png**-1024 x 1500透過png画像

**params.json**-ミニポートレートのトリミング元となる左上の点の座標 (360 x 360 px)
{「左」:290、「トップ」:170}

**/accessories/**-アクセサリを含むオプションのフォルダ
**/face/**、**/hair/**-少なくとも1つの0.pngイメージを含む必須フォルダ

アクセサリ、顔、髪フォルダのすべてのイメージは1024 x 1500の透明なpngイメージであり、**0.png**、**1.png**、**2.png**などの名前を付ける必要があります。<br>
ランダム化せずに静的なポートレートを作成したい場合は、body.pngに入力して顔とヘアのイメージを完全に透明のままにします。
<br><br>
**Q:デフォルトのポートレートを削除する方法は?**
<br><br>今のところ便利な方法はありませんが、ゲームフォルダから手動で削除する必要があります。<br><br>
*ゲームフォルダー*/IM_Data/StreamingAssets/Textures/IdolPortraits/

この操作を行うと、古い保存ゲームをロードできなくなることに注意してください。
<br><br>
**Q:ポートレートを編集しましたが、ゲーム内に古いポートレートが表示されます。**
<br><br>ゲームはポートレートをキャッシュするため、キャッシュフォルダをクリアする必要がある場合があります。<br><br>
C:\Users\*ユーザー名*\AppData\LocalLow\Glitch Pitch\Idol Manager\data\cache\portraits\

## カスタムスタッフポートレートの追加
アイドルのポートレートは次のフォルダに保存されます。
*エディターフォルダー*/IM_Data/StreamingAssets/Mods/*MODのID*/Textures/StaffPortraits/

新しいポートレートを作成する最も簡単な方法は、デフォルトのポートレートをコピーして編集することです。
*ゲームフォルダー*/IM_Data/StreamingAssets/Textures/StaffPortraits/

このフォルダには、プレイヤーキャラクタ (Player_MaleまたはPlayer_Female) のポートレートも含まれます。<br><br>

## ランダムイベント用のカスタムイメージを追加する
ランダムイベントを作成するときは、ベースゲームのイメージを使用するか、独自のイメージを追加できます。

pngイメージである必要があります。名前は自由です。既定のサイズは600 x 860です。縦横比が同じであれば、イメージを大きくしたり小さくしたりできます。

イメージを次のフォルダに配置します。
*editor_folder*/IM_Data/StreamingAssets/Mods/*MODのID*/Textures/RandomEventIllustrations/
この後、エディタ (リストの一番下) で使用できるようになります。<br><br>

## ランダムイベントの作成

[**イベント**] → [**新規ランダムイベントを追加**] をクリックします。

**ID**:別のイベントまたはダイアログからトリガするために使用できるイベントのID。メインゲームのイベントのIDを使用すると、イベントはそのイベントを上書きします。<br>
**タイトル**:イベントポップアップの上部に表示されます。あなたはそれを空のままにしておくべきでしょう。
**説明**:イベントのテキスト<br>
**イメージ**:左側に表示されるイメージ<br>
**ランダムにトリガ可能**:別のイベントまたはダイアログから手動でイベントをトリガする場合は、このオプションを無効にします。<br><br>

## アクター
アイドルやスタッフをイベントに参加させる場合に使用します。

**種類**:アイドルまたはスタッフ

各アクターに特定の条件を追加できます。これらの条件が満たされない場合、イベントは起動しません

**スタッフパラメータ**:
**「dance [true|false] 」** と入力します。 「式」 フィールドにtrueまたはfalseを入力します。True-このイベントに使用できるのはダンススタッフのみ、False-ダンススタッフでないスタッフは使用できません

アイドルパラメータ:
**キュート**、**クール**、**スタミナ**など使用例
> 80-このパラメータが80より大きいアイドルならどれでもOKです。<br>
<30-このパラメータが30未満のアイドル<br>

**友情**、**影響力**、**ロマンス**使用例:
<4この関係統計値レベルが4以下のアイドルならどれでもOKです。
> 0:この関係統計値レベルが0未満のアイドル

**ビジネス** [ad|tv]<br>
ad-アクティブな広告契約を結んでいるアイドル<br>
tv-アクティブなテレビ番組契約

**年齢**
使用例:
> 14:14歳以上のアイドルを選択します。
<br>20-ちょうど20歳のアイドルを選択します。

**デートを指定できます [true|false]**
>「true」 は、18歳以上のアイドルを選択します。
<br>「false」 は、18歳未満のアイドルを選択します。

**飲酒可能**
> 「true」 は、20歳以上のアイドルを選択します。<br>
「false」 は、20歳未満のアイドルを選択します。(日本の飲酒年齢は20歳)

**デート**
>free-現在誰とも付き合っていない<br>
!free-現在誰かと付き合っている<br>
bf-現在ボーイフレンドがいます。<br>
!bf-現在ボーイフレンドはいません。<br>
gf-現在彼女がいる<br>
!gf-現在彼女がいません<br>

*デート (プレイヤーに既知)* -「デート」ステータスと同様
> free-プレイヤーは現在誰ともデートしていないことを知りました<br>
!free-プレイヤーは現在誰かとデートしていることを知りました<br>
bf-プレイヤーは現在ボーイフレンドがいることを知っています。<br>
等

*デート設定*
>ストレート-男性のみデート<br>
バイセクシャル-男性または女性とデートします<br>
レズビアン-女性とのみデート<br>
!ストレート-ストレートではありません<br>
!バイセクシャル-バイセクシャルではありません<br>
!レズビアン-レズビアンではない

**Had datingスキャンダル [true|false]** (自明)

**以前の浮気の試み**<br>
> プレイヤーの直近の浮気の試みに基づいて条件を満たすアイドルを選択します。<br>
catastrophic_failure-プレイヤーの前回のアイドルとのいちゃついた試みは破滅的な失敗でした (不要ないちゃついた試みが繰り返された場合に発生します) 。<br>
failure-直近の浮気が失敗したアイドルを選択します。<br>
成功<br>
oblivious-前回のプレーヤーの浮気の試みの間、アイドルは、プレーヤーが彼らと戯れようとしているという事実を知らなかった<br>
取られた-プレーヤーの前回の浮気の試みの間に、プレーヤーは、アイドルがすでに誰かとデートしていることを知った<br>
不快な<br>
無関心な<br>
wrong_gender-プレイヤーの前回の浮気の試みで、彼らはアイドルが性別に基づいてプレイヤーに興味がないことを知った(たとえば、プレイヤーキャラクタが男性で彼女がレズビアンである場合、またはプレイヤーキャラクタが女性で彼女がストレートである場合)<br>
!catastrophic failure-プレイヤーの直近の浮気の試みがcatastrophic failureでなかったアイドルを選択します。<br>
!success:直近の試行が成功しなかったアイドルを選択します。<br>
など。<br>

**派閥**<br>
> true:アイドルがクリークの一部であることを選択します。(派閥の指導者は、派閥の構成員となる。)<br>
false:クリークの一部ではないアイドルを選択します。<br>

**派閥のリーダー**<br>
> true-派閥のリーダーであるアイドルを選択します。<br>
false-派閥のリーダーではないアイドルを選択します。<br>
いじめっ子 [true|false] -自明<br>
いじめっ子です (プレイヤーに既知) [true|false] -いじめっ子であることがわかっているアイドルのみを選択します<br>
いじめられっ子 [true|false]<br>
いじめられっ子 (プレイヤーに既知) [true|false]<br>
変数-変数が付加されたアイドル (イベントやダイアログで変数を設定できます) 。必要な変数の名前を 「式」 フィールドに入力します。<br><br>

## 条件
イベントの起動に必要な条件

**変数** 例:VARIABLE_NAME==VALUE。変数が特定の値に設定されていることを確認します。イベントやダイアログに変数を設定できます。変数名では大文字と小文字が区別されることに注意してください。<br>
**例** 金:>80万-プレイヤーの所持金額が800 K円を超える場合、<50万-プレイヤーの所持金額が500 K未満の場合<br>
**ファン合計** ファンの数以外は同じです。<br><br>

## 効果
これらの効果は、イベントがトリガされたときに適用されます。

**ターゲット:@actor_#@**<br>
**意見を追加**...例HC=2 C=-1 M=1 A=-1ファン層にオピニオンポイントを追加。C-カジュアル、HC-ハードコア、M-男性、F-女性、T-ティーン、YA-ヤングアダルト、A-アダルト<br>
**ファンを追加**...例:HC=2 C=-1人口統計学的にファンを追加する。その数は、このアイドルのファンの総数 (-10人から10人) に比例します。<br>
**変数** 例VARIABLE_NAME他のイベントのために彼女をマークする変数をアイドルに追加します<br>
**メンタルスタミナ** 例-20メンタルスタミナポイントの追加または削除<br>
**関係** 例:-1このアイドルとプレイヤーの関係点を追加または削除します<br><br>

**ターゲット:グループ**<br>
**ファンを追加**...例:HC=2 C=-1人口統計学的にファンを追加する (すべてのアイドルに分割する) 。その数は、このアイドルのファンの総数 (-10人から10人) に比例します。<br>
**ビジネス [ad|tv]** 条件を選択すると、アクティブな契約の1つが変数に保存されます。このパラメータは契約に影響します。<br>
terminate-契約を終了して損害賠償を支払う<br>
terminate_no_dmg-金銭を支払わずに契約を終了する<br>
return_money-契約で獲得したお金を返す<br>

**ターゲット:リソース**
金銭、バズ、スキャンダルのポイントを加算または減算する

**ターゲット:Meta**
変数を設定します。例:VARIABLE_NAME=変数のテキスト。条件に変数を使用したり、説明やオプションにテキストを表示することができます。(まだ存在しない変数に名前を付けると、その変数が作成されます。変数を個別に宣言する必要はありません。)<br>
変数をmale_nameまたはfemale_nameに設定すると、変数の値としてランダムな名前が生成されます。
トリガーイベント。Event_ID 7.7日後にイベントEvent_IDをトリガーします。<br><br>

## オプション
プレイヤーが選択できるオプション。
複数のオプションに同じテキストがある場合は、そのうちの1つだけがランダムに表示されます。これを使用して、イベントの結果をランダム化できます。(たとえば、ランダムな結果として良好な結果または不良な結果を生成する「何もしない」のオプションが必要な場合は、不良な結果と良好な結果の両方に対して個別のオプションを作成し、両方のオプションにボタンテキスト「何もしない」を割り当てます。イベントを表示する際、ゲームは「何もしない」オプションとしてこれらのオプションの中からランダムに選択する。)<br>

**ボタンテキスト** ボタンに表示されるテキスト。<br>
**ボタンのツールチップ** プレイヤーがボタンの上に移動したときに表示されるツールチップのテキスト。<br>
**結果の説明** プレイヤーがこのオプションを選択した後に表示されるテキストです。<br>
**SNS** プレーヤーがこのオプションを選択した後に表示されるファンからのメッセージ。デフォルトでは、最初のメッセージがスレッドを開始し、他のすべてのメッセージはこのスレッドの応答です。別のスレッドを追加するには、メッセージを|で開始します。<br>
**効果** プレイヤーがこのオプションを選択すると、これらのエフェクトがトリガされます。


**変数**
これらの変数は、説明、オプション、およびSNSメッセージで使用できます。

**[actor_0]** -アクターの名<br>
**[actor_0:full]** または **@actor_0@** -アクターのフルネーム<br>
**[groupname]** -プレイヤーグループの名前<br>
**[last_physical_single_center]** -最後の物理シングルのセンターの名前<br>
**[VARIABLE_NAME]** -変数の値

 > < blue >テキストを開始<br>
 < red >テキストを開始<br>
 >< collar >色付きテキストを終了します

アクターにビジネス要件が設定されている場合:<br>
**[proposal_agent]** -ビジネス・パートナーの名前<br>
**[proposal_product]** -テレビ番組の名前 (広告の場合は空)


エディタの例:<br>
**[actor_0:full]** が大騒ぎしました! **[groupname]** は応答しますか?

ゲーム内でどのように表示されるか:
**西方彩香**ちゃんが大騒ぎしてくれました!**XYZ 49**は応答しますか？<br><br>

## 対話とサブストーリーの作成
サブストーリは、同じアクターを使用する複数のダイアログです。子ダイアログは親ダイアログからアクターを継承し、手動でのみトリガできます。

**親** このダイアログが既存のサブストーリーの一部である場合は、親ダイアログを選択します。新しいサブストーリーを作成するには、--PARENT--のままにします。<br>
**ID** ダイアログのID。この名前はエディタに表示され、ゲーム内の「対話を引き起こす」メニュー「~」に表示されます。これを使用して、このダイアログをトリガできます。メインゲームの既存のダイアログと同じIDを使用すると、そのダイアログは上書きされます。<br>
**タイプ** 現在のところ、「対話」のみがMODで利用可能です。<br>
**場所** ダイアログ中に表示される背景です。<br>
**音楽**ダイアログ中に再生される音楽トラック。<br>
**ランダムにトリガ** 別のイベントまたはダイアログから手動でイベントをトリガする場合は、これを無効にします。<br>
**テキストをインポート** ダイアログ全体を別の場所で作成し、エディタに読み込むことができます。正しいフォーマットのテキストファイルの例を以下に示します。*editor_folder */_ EXAMPLES/<br><br>

## 条件
ランダムイベントの条件と同じ<br><br>

## アクター
ランダムイベントと同じですが、後で参照できる各アクターのタグも入力する必要があります。<br><br>

## アクターの設定
シーンにアクターを設定します。すべてをシーンに配置する必要はありません。<br><br>

**Position** 画面上の位置0は中央、-10は画面の左端、10は画面の右端です。<br>
**Facing Right.** 既定では、スプライトは右から左を向きます。スプライトを反転するには、これを有効にします。<br>
**Start Hidden.** 有効にすると、シーンの開始時にスプライトが非表示になります。<br><br>

## スクリプト

緑の「Add dialog node」ボタンをクリックして、新しいダイアログノードを作成します。ノードの上にカーソルを移動すると、次のオプションが表示されます。


親ノードの上にカーソルを移動すると、4つのボタンが表示されます (上の図を参照) 。<br>
**Red X**:ノードを削除します。警告:親ノードを削除すると、すべての子ノードも削除されます!<br>
**Blue arrow**:ノードの並べ替え<br>
**Green plus**:新しいノードを作成します (現在選択されているノードと同じ階層) 。<br>
**Green arrow**:現在選択されているノードの新しい子ノードを作成します。(注:このオプションは、子ノードの上にカーソルを置いたときには表示されません。)

緑の「Add dialog node」ボタンをクリックして、新しいダイアログノードを作成します。ダイアログノードをクリックしてノードエディタを開き、次のオプションを選択します。

**Type:Message** 1つのテキストブロック<br>
**Actor** :この行を言うアクターを選択するか、ナレーション用にアクターを空のままにしておくことができます。
**Value:message** テキスト。<br>
**Tag:message** タグを付けて、スクリプト内の別のポイントからメッセージに移動できます。<br>
**Effects:sprite** アニメート、サウンドエフェクトの再生、イベントのトリガなど<br>
**Type:Check** このノードの子ノードは、要件が満たされた場合にのみトリガーされます。<br>
**Type:Choice** 値=ボタン上のテキスト。プレイヤーがこのオプションを選択すると、子ノードがトリガされます。<br>
**Type:Random** このタイプの兄弟を複数作成すると、そのうちの1つの子だけがランダムにトリガされます。<br>
**Type:Action** 新しいメッセージを表示せずに、いくつかのエフェクトをトリガします。<br><br>

## 変数
これらの変数をメッセージで使用できます。

[actor_0] -アクターの名<br>
[actor_0:full] -アクターのフルネーム<br>
[actor_0:丁寧] -丁寧な形式<br>
「男」-「女性」を返します。

[player] -プレイヤーの名前<br>
[player:polite] -選手の名前の丁寧な形<br>
[player:cudual] -プレイヤー名のカジュアルな形式<br>
[player:SirMaam] -プレイヤーの性別に基づいて「サー」または「奥様」を返します<br>
-プレイヤーの性別に基づいて「彼女」または「彼」を返します<br>

[groupname] -プレイヤーグループの名前<br>
[rival_group] -ランダムなライバルグループ<br>

[yen] -¥<br>

[color:red] [color:blue] [color:green] -カラーテキストを開始します。
 -色付きのテキストを終了します。


エディタの例:
ワオ! [player:cational:red] 、 [player:heshe] が十分な [yen] [yen] [yen] を払わないのは本当に嫌です!

ゲーム内でどのように表示されるか:
ワオ！ナナがが十分な円を払わないのは本当に嫌です！<br><br>

## modのテスト
ゲーム内のイベントまたはダイアログを起動するには、「~」キーを押します。ゲームが一時停止していないことを確認します。
開始条件が満たされない場合、イベントは起動しません。
